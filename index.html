
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Netflix Clone</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="stylee.css" />
    <script src="https://kit.fontawesome.com/c939d0e917.js"></script>
  </head>
  <body>
    <header>
    </header>
    <main>
      <div class="featured">
        <h2>Title</h2>
        <div class="featured__buttons">
          <button class="button__play"><i class="fas fa-play"></i>Play</button>
          <button>My List</button>
        </div>
        <div class="featured__description">
         the quality that we promise
        </div>
      </div>
      <div class="netflixOriginals">
        <div class="original__header">
          <h2>ORIGINALS</h2>
        </div>
        <div class="original__movies">
          <!-- Orignal Movies List Here -->
        </div>
      </div>
      <div class="movies">
        <div class="movies__header">
          <h2>Wishlist</h2>
        </div>
        <div id="wishlist" class="movies__container"></div>
        <div class="movies__header">
          <h2>Trending Now</h2>
        </div>
        <div id="trending" class="movies__container">
          <!-- Trending Movies List Here -->
        </div>
        <div class="movies__header">
          <h2>Top Rated</h2>
        </div>
        <div id="top_rated" class="movies__container">
          <!-- Top Rated Movies List Here -->
        </div>
      </div>
    </main>
    <!-- Modal -->
    <div
      class="modal fade"
      id="trailerModal"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <span class="movieNotFound">Trailer Not Found</span>
            <iframe
              id="movieTrailer"
              height="400"
              src=""
              frameborder="0"
              allow="autoplay; encrypted-media"
              allowfullscreen
            ></iframe>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>


    <script>
        fetching =(url,loca,type)=>{
            fetch(url)
            .then(data =>{if(data.ok){
                return data.json()
            }
            else{
                throw new Error('something went wrong');
                
                }
                
            })
            .then(data => {
                return dom(data,loca,type)
            })
            .catch(error => console.log(error))
        }

        dom =(movi,loca,type)=>{
            el = document.querySelector(loca)
      for(mov of movi.results){
 console.log(mov)
 er = document.createElement('img')
 er.setAttribute('id',mov.id)
 er.src = `https://image.tmdb.org/t/p/original${mov[type]}`
 el.appendChild(er)
 }
        }

        orign =()=>{
            fetching('https://api.themoviedb.org/3/discover/tv?api_key=19f84e11932abbc79e6d83f82d6d1045&with_networks=213','.original__movies', 'backdrop_path')
        }










function fetchMovies(url, dom_element, path_type) {
  fetch(url)
    .then(response => {
      if (response.ok) {
        return response.json()
      } else {
        throw new Error('something went wrong')
      }
    })
    .then(data => {
      showMovies(data, dom_element, path_type)
    })
    .catch(error_data => {
      console.log(error_data)
    })
}

//  ** Function that displays the movies to the DOM **
showMovies = (movies, dom_element, path_type) => {
  
  // Create a variable that grabs id or class
  var moviesEl = document.querySelector(dom_element)

  // Loop through object
  for (var movie of movies.results) {

    // Within loop create an img element
    var imageElement = document.createElement('img')

    // Set attribute
    imageElement.setAttribute('data-id', movie.id)

    // Set source
    imageElement.src = `https://image.tmdb.org/t/p/${movie[path_type]}`

    // Add event listener to handleMovieSelection() onClick
    // imageElement.addEventListener('click', e => {
    //   handleMovieSelection(e)
    // })
    // Append the imageElement to the dom_element selected
    moviesEl.appendChild(imageElement)
  }
}
orign2 =()=>{
            fetchMovies('https://api.themoviedb.org/3/discover/tv?api_key=19f84e11932abbc79e6d83f82d6d1045&with_networks=213','original__movies',' backdrop_path')
        }
    </script>
  </body>
</html>
